---
title: 数据结构之数组和链表
tags: [Algorithm]
category: Algorithm
date: 2020-5-1 22:09
---
# 数据结构之数组和链表

## 基本结构

### 线性表
线性表就是一种线性的数据结构，他使用一组连续的内存空间，存储一组相同类型的数据，比如：
- 数组
- 队列
- 链表
- 栈

线性表有个特征，那就是每个数据最多只有前和后两个方向。

### 非线性表
知道了线性表的特征，非线性表也呼之欲出：每个数据之间并不是简单的前后关系，比如：
- 二叉树
- 图

## 数组
### 随机访问
对数组来说，它具有连续的内存空间和相同的数据类型，如果想要随机访问就变得比较简单，但是同时一些操作也会变得十分低效：插入、删除等等，它们都需要做大量的数据迁移。

比方说，创建了一个数字类型的数组，它的长度为 10，把 50 ~ 89 的内存空间分配给它，那么各个对应关系如下：
```
0   a[0]   50 ~ 53
1   a[1]   54 ~ 57
2   a[2]   58 ~ 61
..................
9   a[9]   86 ~ 89
```
这时候计算机通过`base`值（该例中为 50）、索引、每个子项的大小就可以访问到每个元素了。
```
// 访问内存
address = base + k * item_size
```

对于插入操作来说，它需要把原来每个元素向后移动，对于删除操作来说，他需要把每个元素向前移动，具体的效率还要根据相应元素的位置来决定。

### 从零开始
为什么需要数组的下标都是从零开始呢？

首先了解下标的定义，下标其实指的是 offset 偏移量，表示该元素对首元素位置的偏移，所以才从 0 开始；

接着再回顾上面的公式，如果从 1 开始的话，访问的内存就变成了：
```
// 访问内存
address = base + (k - 1) * item_size
```

相当于多做了一层减法运算，从零开始的话不就可以少做一次运算了？

最开始是 C 开始使用从零开始的数组的，其考量可能还有更多原因，涉及到汇编、运算等等，从零开始能使运算更加方便快捷，后来的语言大多就沿用了这个规则。


## 链表
和数组不同的是，链表不是一个连续的内存空间，它是通过指针来链接零散的内存地址：
```
50 ~ 53
↓ ...
65 ~ 68
↓ ...
90 ~ 93
```

不连续的好处就在于，如果剩余内存比较小而且比较零散的情况下，数组要申请连续内存可能就会失败了，而链表不会有这个问题。

对于插入和删除的操作，相对来说也比较简单：
- 插入，上一个指向新数据，下一个指向旧数据
- 删除，上一个数据指向下一个数据

### 循环链表
循环链表是一种特殊的链表结构，普通链表的链表末尾指向空（NULL），而循环链表的链表末尾指向链首。
![循环链表](https://static.gongfangwen.com/2020-05-01-%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8.jpg)


### 双向链表
普通链表只有一个 next 指针指向下一个节点，而双向链表多了一个 prev 指针指向前一个节点。![双向链表](https://static.gongfangwen.com/2020-05-01-%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8.jpg)

